<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
	<link rel="stylesheet" type="text/css" href="javascripts/extjs/resources/css/ext-all.css">
	<script type="text/javascript" src="javascripts/extjs/ext-all.js" ></script>
	<script type="text/javascript" src="client/clientDef.js" ></script>
	<title>New Client</title>
</head>
<body>

</body>

	<script type="text/javascript">


		Ext.onReady(function(){

			var cliente = Ext.create("Cliente", {});

			var form = Ext.create('Ext.form.Panel', {
			    title: 'Cliente',
			    bodyPadding: 5,
			    width: 600,
			    url: "/clientes",
			    layout: 'anchor',
			    
			    defaults: {
			        anchor: '100%'
			    },

			    defaultType: 'textfield',
			    items: [{
		        	fieldLabel: 'Nome',
		        	name: 'nome',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'CPF',
		        	name: 'cpf',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'RG',
		        	name: 'rg',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'Filiacao',
		        	name: "filiacao",
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'Telefone Fixo',
		        	name: 'telfixo',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'Telefone Celular',
		        	name: 'telcelular',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'Telefone Referencia',
		        	name: 'telreferencia',
		        	allowBlank: false
		    	},
		    	{
		        	fieldLabel: 'Email',
		        	name: 'email',
		        	allowBlank: false
		    	}
		    	],

		    	buttons:[
		    	{
		        	text: 'Cancelar'
		        },
		        {
		    		text: 'Salvar',
		        	formBind: true, 
		        	disabled: true,
		        	handler: function() {
		        		
		        		form.getForm().updateRecord(cliente);
		        		client = Ext.create("Cliente", cliente.data);
		        		client.save();
		        	}
		        }

		    	],
		    	
		    	renderTo: Ext.getBody()
			});

		});

	</script>

</html>